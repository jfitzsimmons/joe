const CIRCLES=function(){let t=window.innerWidth,e=[],i=0,s=1;const h=document.getElementById("bg2").getContext("2d"),n=["rotate","move","move2","rotate"],a=[209,291,263],r=["#506EE5","#68B2F8","#7037CD"],o={element:document.getElementById("bg"),initialize:function(){const t=window.getComputedStyle(document.getElementById("home"),null),e=parseInt(t.getPropertyValue("width"));this.width=e,this.height=434,this.hw=this.width/2,this.hh=this.height/2,this.element.style.width=`${e}px`,this.element.style.height="434px",h.canvas.width=this.width,h.canvas.height=this.height,document.body.appendChild(this.element),s=Math.round(this.width*this.height/3e4)}},d={create:function(){const t=Object.create(this);return t.ani=c(n),t.radius=0,t.randomRad=l(25,8),t.radiusStroke=t.randomRad+3,t.x=l(o.width-30,30),t.y=l(o.height-30,30),t.curr=0,t.color=c(a),t.strokeStyle=c(r),t.light=l(60,10),t.hue=l(60,10),t.start=Math.random()*Math.PI*2,t.speed=l(8,1),t.dx=Math.cos(t.start)/t.speed,t.dy=Math.sin(t.start)/t.speed,t.element=document.createElement("div"),jQuery(t.element).css({width:`${t.radius}px`,height:`${t.radius}px`,backgroundColor:`hsl(${t.color},100%, ${t.light}%)`,left:`${t.x}px`,top:`${t.y}px`}),t.element.classList.add("circle"),o.element.appendChild(t.element),t},draw:function(t){this.radius<this.randomRad&&void 0!==this.radius?(this.radius+=this.randomRad/80,jQuery(this.element).css({width:`${this.radius}px`,height:`${this.radius}px`,backgroundColor:`hsl(${this.color+=.3},100%,${this.light+=.3}%)`}),requestAnimationFrame(()=>this.draw(t))):(h.lineWidth=2,h.strokeStyle=this.strokeStyle,this.setStart(t))},setStart:function(t){"rotate"===this.ani?this.x>o.hw?this.start=4.7:this.start=1.6:"move2"===this.ani&&(this.x>o.hw&&this.y>o.hw?this.start=.9:this.x<o.hw&&this.y>o.hw?this.start=2.5:this.x<o.hw&&this.y<o.hw?this.start=3.8:this.start=5.6),requestAnimationFrame(()=>this.addStroke(t))},addStroke:function(t,i){if(h.beginPath(),h.arc(this.x+this.radius/2,this.y+this.radius/2,this.radius/2+4,this.start,i,!1),h.stroke(),this.curr+=1.7,this.curr<101)requestAnimationFrame(function(){t.addStroke(t,2*Math.PI*t.curr/100+t.start)});else{const i=3.3*this.radiusStroke;h.clearRect(this.x-i/2,this.y-i/2,i,i),jQuery(this.element).css({boxShadow:`0 0 0 3px ${this.strokeStyle}`,border:"3px solid #1D0C20",left:`${this.x-=3}px`,top:`${this.y-=3}px`}),"rotate"===this.ani&&requestAnimationFrame(()=>this.rotate(t)),"move"===this.ani&&requestAnimationFrame(()=>this.move(t)),"move2"===this.ani&&requestAnimationFrame(()=>this.move2(t)),e.length>0&&u()}},move2:function(t){const e="s linear 0s infinite alternate";this.x>o.hw&&this.y>o.hh?this.element.style.animation=`moveL ${l(350,30)}${e},\n         moveU ${l(350,30)}${e}`:this.x<o.hw&&this.y>o.hh?this.element.style.animation=`moveR ${l(350,30)}${e},\n         moveU ${l(350,30)}${e}`:this.x<o.hw&&this.y<o.hh?this.element.style.animation=`moveR ${l(350,30)}${e},\n         moveD ${l(350,30)}${e}`:this.element.style.animation=`moveL ${l(350,30)}${e},\n         moveD ${l(350,30)}${e}`,this.element.classList.add("circle-2")},move:function(t){(this.x>o.width-(this.randomRad+10)||this.x<0)&&(this.dx=-this.dx),(this.y>o.height-(this.randomRad+10)||this.y<0)&&(this.dy=-this.dy),this.x-=this.dx,this.y-=this.dy,jQuery(this.element).css({top:`${this.y}px`,left:`${this.x}px`}),requestAnimationFrame(()=>this.move(t))},rotate:function(t){const e=1e3/(Math.abs(this.y-o.hw)+100)*150;this.x>o.hw?this.element.style.transformOrigin=`-${e}% center`:this.element.style.transformOrigin=`${e}% center`,this.element.classList.add("circle-2")}},m=t=>requestAnimationFrame(()=>t.draw(t)),l=(t,e)=>Math.random()*(t-e)+e,c=t=>t[Math.floor(Math.random()*t.length)];function u(){e.length<s&&(e.push(d.create()),m(e[i]),i++)}let y=!1;function w(){e=[],i=0;const t=document.getElementsByClassName("circle");for(;t[0];)t[0].parentNode.removeChild(t[0]);o.initialize(),u()}window.addEventListener("resize",function(){t!==window.innerWidth&&(t=window.innerWidth,clearTimeout(y),y=setTimeout(w,800))}),o.initialize(),u()}();
